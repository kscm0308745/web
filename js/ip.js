"use strict";!function(t){function i(){var e=t("#ip").val();if(e){t("#ip_address_prefix").text("您查询的 IP：");if(!/((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/g.test(e))return t("#error_msg").text("不是合法的IPv4地址!!!"),void t("#myModal").modal()}else t("#ip_address_prefix").text("您现在的 IP：");t.ajax({type:"POST",url:"/resource/api/ip/query",headers:{"Content-Type":"application/x-www-form-urlencoded"},dataType:"json",data:"ip="+e,success:function(e){if("1"!=e.code)return t("#error_msg").text(e.message),t("#myModal").modal(),t("#ip_address").text(""),void t("#ip_position").text("");t("#ip_address").text(e.data.ipAddress),t("#ip_position").text(e.data.location)}})}t(function(){t("#link_ip_li").addClass("active");var e=new Date;t("#year_now").text(e.getFullYear()),i(),t("#ip").on("keydown",function(e){13==e.keyCode&&i()}),t("#ip_button").on("click",function(e){i()})})}((window,document,$));